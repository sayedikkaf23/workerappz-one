<div class="theme-wrapper p-0" [class.dark-active]="isDark">
  <section class="steps_sec p-0">
    <div class="d-flex">
      <div class="step_wrp">
        <div class="step_icon">
          <img src="assets/images/footer-logo.png" alt="" />
        </div>
        <ul class="step_list">
          <li>
            <div
              class="circle"
              style="background-image: url(assets/images/step-1-icon.svg)"
            >
              <span>1</span>
            </div>
            <a routerLink="/step-1">
              <h5>Step 1</h5>
              <h3>Enter basic details</h3>
            </a>
          </li>
          <li>
            <div
              class="circle"
              style="background-image: url(assets/images/step-2-icon.svg)"
            >
              <span>2</span>
            </div>
            <a routerLink="/step-2">
              <h5>Step 2</h5>
              <h3>Select requirements</h3>
            </a>
          </li>
          <li class="active">
            <div
              class="circle"
              style="background-image: url(assets/images/step-3-icon.svg)"
            >
              <span>3</span>
            </div>
            <a href="#">
              <h5>Step 3</h5>
              <h3>Business Details</h3>
            </a>
          </li>
          <li>
            <div
              class="circle"
              style="background-image: url(assets/images/step-4-icon.svg)"
            >
              <span>4</span>
            </div>
            <a routerLink="/step-4">
              <h5>Step 4</h5>
              <h3>Upload Documents</h3>
            </a>
          </li>
          <li>
            <div
              class="circle"
              style="background-image: url(assets/images/step-5-icon.svg)"
            >
              <span>5</span>
            </div>
            <a routerLink="/step-5">
              <h5>Step 5</h5>
              <h3>Review Details</h3>
            </a>
          </li>
          <li>
            <div
              class="circle"
              style="background-image: url(assets/images/step-6-icon.svg)"
            >
              <span>6</span>
            </div>
            <a routerLink="/step-6">
              <h5>Step 6</h5>
              <h3>Payment</h3>
            </a>
          </li>
        </ul>
      </div>

      <div class="step_content_wrap">
        <div class="basic_detail_wrp">
          <h4>Business Details</h4>
          <div class="dl_mode_wrap">
            <div class="theme-switch" (click)="toggleDarkMode()">
              <div class="icon">
                <svg width="17" height="17" viewBox="0 0 17 17" fill="none">
                  <path
                    d="M16 10.1408C15.0529 10.6465 13.9711 10.9332 12.8224 10.9332C9.09139 10.9332 6.06678 7.90861 6.06678 4.17751C6.06678 3.02884 6.35346 1.94712 6.85918 1C3.50078 1.78709 1 4.80142 1 8.39982C1 12.5973 4.40271 16 8.60018 16C12.1986 16 15.2129 13.4993 16 10.1408Z"
                    stroke="#023764"
                    stroke-width="1.3"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                <svg width="19" height="19" viewBox="0 0 19 19" fill="none">
                  <path
                    d="M13.9975 9.66502C13.9975 12.0578 12.0578 13.9975 9.66502 13.9975C7.27225 13.9975 5.33252 12.0578 5.33252 9.66502C5.33252 7.27225 7.27225 5.33252 9.66502 5.33252C12.0578 5.33252 13.9975 7.27225 13.9975 9.66502Z"
                    stroke="#023764"
                    stroke-width="1.3"
                  />
                  <path
                    d="M9.665 1V2.29975M9.665 17.0303V18.33M15.7918 15.7923L14.8728 14.8732M4.45669 4.45669L3.53763 3.53763M18.33 9.665H17.0303M2.29975 9.665H1M15.7923 3.53773L14.8732 4.45679M4.45712 14.8733L3.53806 15.7924"
                    stroke="#023764"
                    stroke-width="1.3"
                    stroke-linecap="round"
                  />
                </svg>
              </div>
              <span class="dark-text">Dark Mode</span>
              <span class="light-text">Light Mode</span>
            </div>
          </div>
          <h5><span>03</span> / 06</h5>
        </div>

        <div class="step_form step3_form">
          <div class="details_wrap">
            <div class="row g-xl-4 g-lg-3 gy-4">
              <div class="col-xl-8 col-lg-7">
                <h3>Business Details</h3>
                <div class="card">
                  <form (ngSubmit)="submitForm()">
                    <div class="row g-lg-4 g-md-3 g-2">
                      <div class="col-xl-6 col-12">
                        <div class="form-field">
                          <label class="form-label"
                            >Enter Name of Company</label
                          >
                          <input
                            type="text"
                            [(ngModel)]="formData.companyName"
                            name="companyName"
                            class="form-control"
                            placeholder="Enter name of company"
                          />
                        </div>
                      </div>
                      <div class="col-xl-6 col-12">
                        <div class="form-field">
                          <label class="form-label">Company Website</label>
                          <input
                            type="text"
                            [(ngModel)]="formData.companyWebsite"
                            name="companyWebsite"
                            class="form-control"
                            placeholder="Enter company website"
                          />
                        </div>
                      </div>
                      <div class="col-xl-6 col-12">
                        <div class="form-field">
                          <label class="form-label"
                            >Country of Incorporation</label
                          >
                          <select
                            [(ngModel)]="formData.countryOfIncorporation"
                            name="countryOfIncorporation"
                            class="form-select"
                          >
                            <option value="" disabled>Select Country</option>
                            <option value="indian">Indian</option>
                            <option value="american">American</option>
                            <option value="british">British</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-xl-6 col-12">
                        <div class="form-field">
                          <label class="form-label">Nature of Business</label>
                          <select
                            [(ngModel)]="formData.natureOfBusiness"
                            name="natureOfBusiness"
                            class="form-select"
                          >
                            <option value="" disabled>
                              Select nature of business
                            </option>
                            <option value="manufacturing">Manufacturing</option>
                            <option value="retail">Retail/Wholesale</option>
                            <option value="service">Service</option>
                            <option value="trading">Trading</option>
                            <option value="agriculture">Agriculture</option>
                          </select>
                        </div>
                      </div>
                      <div class="col-xl-6 col-12">
                        <div class="form-field">
                          <label class="form-label"
                            >Number of Shareholders</label
                          >
                          <select
                            [(ngModel)]="formData.numberOfShareholders"
                            (change)="onShareholdersChange($event)"
                            name="numberOfShareholders"
                            class="form-select"
                          >
                            <option value="" disabled>
                              Select Number of Shareholders
                            </option>
                            <option
                              *ngFor="let num of [1, 2, 3, 4, 5]"
                              [value]="num"
                            >
                              {{ num }}
                            </option>
                          </select>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
              </div>

              <div class="col-xl-4 col-lg-5">
                <h3>Shareholder Details</h3>
                <div class="card">
                  <div
                    *ngFor="
                      let shareholder of formData.shareholders;
                      let i = index
                    "
                  >
                    <div class="form-field">
                      <label class="form-label">Full Name</label>
                      <input
                        type="text"
                        [(ngModel)]="shareholder.fullName"
                        name="fullName{{ i }}"
                        class="form-control"
                        placeholder="Enter full name"
                      />
                    </div>
                    <div class="form-field">
                      <label class="form-label">Nationality</label>
                      <select
                        class="form-select"
                        [(ngModel)]="formData.nationality"
                        name="nationality"
                      >
                        <option value="" disabled>Select Nationality</option>
                        <option
                          *ngFor="let country of nationalities"
                          [value]="country.value"
                        >
                          {{ country.label }}
                        </option>
                      </select>
                    </div>
                    <div class="form-field">
                      <label class="form-label">Date of Birth</label>
                      <input
                        type="date"
                        id="dob-{{ i }}"
                        [(ngModel)]="shareholder.dob"
                        name="dob{{ i }}"
                        (focus)="openDatePicker(i)"
                        class="form-control"
                      />
                    </div>
                    <div class="form-field">
                      <label class="form-label">% Shareholding</label>
                      <input
                        type="number"
                        [(ngModel)]="shareholder.shareholding"
                        name="shareholding{{ i }}"
                        class="form-control"
                        placeholder="Enter %"
                      />
                    </div>
                    <button
                      type="button"
                      class="btn btn-danger btn-sm mt-2"
                      (click)="removeShareholder(i)"
                      *ngIf="formData.shareholders.length > 1"
                    >
                      Remove
                    </button>
                    <hr *ngIf="i !== formData.shareholders.length - 1" />
                  </div>
                  <!-- <button type="button" class="btn btn-secondary mt-2" (click)="addShareholder()">Add Shareholder</button> -->
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="step_button step_form_button">
          <div class="row justify-content-between">
            <div class="col-auto">
              <a routerLink="/step-2" class="btn btn-border btn-dark"
                >Previous</a
              >
            </div>
            <div class="col-auto">
              <button class="btn" (click)="submitForm()">Next</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
